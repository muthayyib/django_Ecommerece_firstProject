{% extends 'base.html'%}
{% load static%}
{% block content%}
{% load mathfilters%}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<div class="py-3" style="background-color: #df5e3b85;">
    <div class="container">
        <a href="{% url 'home' %}" class="text-white">Home/</a>
        <a href="{% url 'collections' %}" class="text-white">Collections/</a>
        <a href="{% url 'collectionsview' product.category.category_slug %}" class="text-white">{{product.category.category_name}}/</a>
    </div>
</div>


    <div class="container">
        <div class="row">
            <div class="col-lg-6 m-3 pt-3">
                <h2 class="mb-0">{{product.product_name}}</h2><hr>
                <img src="{{product.images.url}}"  alt="" style="width: 20rem;" class="w-80">            
                    
            </div>

                <div class="col-lg-4">
                       
                       <div style="margin-top: 35%; font-size: 2rem;">
                        {% if product.pro_offer%}
                        <div class="d-flex mt-2">
                            <h4>₹  {{product.pro_offer.discount|mul:product.price|div:100|sub:product.price|abs}}</h4><h6 class="text-muted ml-2"><del>₹ {{product.price}}</del></h6>
                        </div>
                                 {% else %}
                         <div class="mt-2">
                            <h4>₹ {{product.price}}</h4>
                        </div>
                            
                            {% endif%}
                        </div>
                                {% if product.stock > 0 %}
                                <label for="" class="bagde bg-success p-2" style="color: white;">In stock</label>
                                {% else%}
                                <label for="" class="bagde bg-danger">Out of stock</label>
                                {% endif%}
                                <div class="row" style="margin-top: 25%;">
                                    <div class="col-md-3">
                                        <label for="Quantity">Quantity</label>
                                        <div class="input-group text-center mb-3" style="width: 130px;">
                                            <button class="input-group-text decrement-btn">-</button>
                                            <input type="text" name='quantity' class="form-control text-center qt-input" value="1" name="quantity">
                                            <button class="input-group-text increment-btn">+</button>
                                        </div>
                                    </div>
                                            <br/>
                                            {% if product.stock > 0 %}
                                            <div class="row">
                                            <div class="col-lg-2">
                                            <a class="btn btn-primary me-3 float-start" href='{% url 'add_cart' product.id%}' >Add to cart</a>
                                            {% endif%}
                                             
                                            </div>
                                        </div>
                                </div>
                                    </div>
                                </div>
                                </div>
                            </div>
 <div class="col-lg-8">
    <hr>
    <h3>Description</h3>
    <p class="mt-3">{{product.description}}</p>
</div>  
        </div>
    </div>

<script src="{% static '/js/quantity_inc.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
{%endblock%}